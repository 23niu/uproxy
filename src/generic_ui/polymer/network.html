<link rel="import" href="../lib/polymer/polymer.html">
<link rel='import' href='../lib/paper-button/paper-button.html'>

<polymer-element name='uproxy-network' attributes='network'>
  <template>
    <style>
      :host {
        display: block;
        box-sizing: border-box;
      }
      paper-button {
        color: white;
        width: 150px;
        background: #009688;  /* default to dark green */
      }
      paper-button.Google {
        background: #dd4b39;
      }
      paper-button.Facebook {
        background: #3b5998;
      }
      #waiting {
        color: #bbb;
        position: relative;
        cursor: default;
      }
      #hourglass {
        position: absolute;
        height: 28px; width: 28px;
        left: 40px; top: 20px;
        background-image: url('../icons/waiting_grey.svg');
        -webkit-animation-name: rotate;
        -webkit-animation-duration: 1s;
        -webkit-animation-iteration-count: infinite;
        -webkit-animation-timing-function: linear;
        -moz-animation-name: rotate;
        -moz-animation-duration: 1s;
        -moz-animation-iteration-count: infinite;
        -moz-animation-timing-function: linear;
      }
      @-webkit-keyframes rotate {
        from {-webkit-transform: rotate(0deg);}
        to {-webkit-transform: rotate(360deg);}
      }
      @-moz-keyframes rotate {
        from {-moz-transform: rotate(0deg);}
        to {-moz-transform: rotate(360deg);}
      }
    </style>

    <div class='network'>
      <span hidden?='{{isLoggingIn}}'>
        <span hidden?='{{network.online}}'>
          <paper-button raised on-tap='{{connect}}' class='{{ network.name }}'>
            {{ network.name }}
          </button>
        </span>
        <span id='connnected' hidden?='{{!network.online}}'>
          Connected
        </span>
      </span>
      <span id='waiting' hidden?='{{!isLoggingIn}}'>
        Waiting for sign in...
        <div id='hourglass'></div>
      </span>
    </div>
  </template>
  <script src='network.js'></script>
</polymer-element>
