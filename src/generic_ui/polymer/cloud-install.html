<link rel='import' href='../../bower/core-overlay/core-overlay.html'>
<link rel='import' href='../../bower/core-signals/core-signals.html'>
<link rel='import' href='../../bower/paper-progress/paper-progress.html'>
<link rel='import' href='../../bower/paper-radio-button/paper-radio-button.html'>
<link rel='import' href='../../bower/paper-radio-group/paper-radio-group.html'>
<link rel='import' href='../../bower/polymer/polymer.html'>
<link rel='import' href='button.html'>

<polymer-element name='uproxy-cloud-install'>
  <template>
    <style>
    :host {
      text-align: start;
    }
    core-overlay {
      height: 100%;
      width: 100%;
      background-color: white;
    }
    uproxy-button {
      margin: 15px 0px;
    }
    paper-progress {
      width: 100%;
    }
    paper-radio-button {
      width: 100%;
      padding: 6px 12px !important;
    }
    .content {
      margin: 2em;
    }
    uproxy-button {
      background-color: #34AFCE;  /* blue */
      padding: 0.5em;
      width: 100%;
      font-size: 14px;
    }
    h1 {
      color: #34AFCE;  /* blue */
      font-weight: 400;
      font-size: 23px;
    }
    h2 {
      font-weight: 400;
      font-size: 23px;
    }
    p {
      line-height: 1.75em;
    }
    #regionMenu {
      font-size: 16px;
    }
    .imgWrapper {
      text-align: center;
    }
    .imgWrapper img {
      margin: 1em 0.5em 1em 0.5em;
    }
    paper-progress::shadow #activeProgress {
      background-color: #34AFCE !important;  /* blue */
    }
    paper-radio-button[checked]::shadow #onRadio {
      background-color: #34AFCE;  /* blue */
    }
    paper-radio-button[checked]::shadow #offRadio {
      border-color: #34AFCE;  /* blue */
    }
    </style>

    <core-signals on-core-signal-open-cloud-install='{{ openCloudInstall }}'></core-signals>

    <core-overlay id='getStartedOverlay'>
      <uproxy-app-bar on-go-back='{{ back }}' color='#34AFCE'>
        {{ 'CREATE_A_CLOUD_SERVER' | $$ }}
      </uproxy-app-bar>

      <div class='content'>
        <div class='imgWrapper'>
          <img src='../../icons/cloud/create-circle-ic.svg'>
        </div>
        <h1>{{ 'DIGITAL_OCEAN_GET_STARTED_TITLE' | $$ }}</h1>
        <p>{{ 'DIGITAL_OCEAN_GET_STARTED_MESSAGE' | $$ }}</p>
        <!-- TODO: add learn more links -->
        <uproxy-button raised on-tap='{{ showDigitalOceanAccountHelpOverlay }}'>
          {{ 'CREATE_A_NEW_ACCOUNT' | $$ }}
        </uproxy-button>
        <uproxy-button raised on-tap='{{ showLoginOverlay }}'>
          {{ 'I_HAVE_AN_ACCOUNT' | $$ }}
        </uproxy-button>
        <!-- TODO: add links for users who already have a uProxy cloud server -->
      </div>  <!-- end of .content -->
    </core-overlay>

    <core-overlay id='digitalOceanAccountHelpOverlay'>
      <uproxy-app-bar on-go-back='{{ back }}' color='#34AFCE'>
        {{ 'CREATE_A_CLOUD_SERVER' | $$ }}
      </uproxy-app-bar>

      <div class='content'>
        <div class='imgWrapper'>
          <img src='../../icons/cloud/getstarted-step1.svg'>
          <img src='../../icons/cloud/getstarted-step2.svg'>
          <img src='../../icons/cloud/getstarted-step3.svg'>
        </div>
        <h1>{{ 'DIGITAL_OCEAN_CREATE_ACCOUNT_TITLE' | $$ }}</h1>
        <!-- TODO: some of this text needs to be bold - need to set the HTML element rather than use $$ to translate -->
        <p>{{ 'DIGITAL_OCEAN_CREATE_ACCOUNT_MESSAGE' | $$ }}</p>
        <!-- TODO: learn more links -->
        <uproxy-button raised on-tap='{{ launchDigitalOceanSignup }}'>
          {{ 'CREATE_A_NEW_ACCOUNT' | $$ }}
        </uproxy-button>
        <uproxy-button raised on-tap='{{ showLoginOverlay }}'>
          Sign me in!
        </uproxy-button>
      </div>  <!-- end of .content -->
    </core-overlay>

    <core-overlay id='loginOverlay'>
      <uproxy-app-bar on-go-back='{{ back }}' color='#34AFCE'>
        {{ 'CREATE_A_CLOUD_SERVER' | $$ }}
      </uproxy-app-bar>

      <div class='content'>
        <div class='imgWrapper'>
          <img src='../../icons/cloud/location-circle.svg'>
        </div>
        <h1>{{ 'DIGITAL_OCEAN_LOGIN_TITLE' | $$ }}</h1>
        <div>
          <paper-radio-group id='regionMenu' selected='sgp1'>
            <!-- TODO: get available regions from digital ocean -->
            <paper-radio-button name='sgp1' label='Asia (Singapore)'></paper-radio-button>
            <paper-radio-button name='ams2' label='Europe (Amsterdam)'></paper-radio-button>
            <paper-radio-button name='nyc2' label='North America (New York)'></paper-radio-button>
          </paper-radio-group>
        </div>
        <p>{{ 'DIGITAL_OCEAN_LOGIN_MESSAGE' | $$ }}</p>
        <!-- TODO: add learn more links -->
        <uproxy-button raised on-tap='{{ loginTapped }}'>
          {{ 'SIGN_IN_AND_CONNECT' | $$ }}
        </uproxy-button>
      </div>  <!-- end of .content -->
    </core-overlay>

    <core-overlay id='installingOverlay'>
      <uproxy-app-bar color='#34AFCE' disableback="true">
        {{ 'CREATE_A_CLOUD_SERVER' | $$ }}
      </uproxy-app-bar>

      <div class='content'>
        <div class='imgWrapper'>
          <img src='../../icons/cloud/loading-circle.svg'>
        </div>
        <h1>{{ 'DIGITAL_OCEAN_INSTALLING_TITLE' | $$ }}</h1>
        <p>{{ 'DIGITAL_OCEAN_INSTALLING_MESSAGE' | $$ }}</p>
        <div>
          <paper-progress indeterminate='true'></paper-progress>
        </div>
        <p>{{ ui.cloudInstallStatus }}</p>
      </div>  <!-- end of .content -->
    </core-overlay>

    <core-overlay id='successOverlay'>
      <uproxy-app-bar on-go-back='{{ back }}' color='#34AFCE'>
        {{ 'CREATE_A_CLOUD_SERVER' | $$ }}
      </uproxy-app-bar>

      <div class='content'>
        <div class='imgWrapper'>
          <h1>{{ 'DIGITAL_OCEAN_SUCCESS_TITLE' | $$ }}</h1>
          <img src='../../icons/cloud/ready-circle.svg'>
          <h2>{{ getLocationLabel($.regionMenu.selected) }}</h2>
        </div>
        <!-- TODO: show IP address -->
        <p>{{ 'DIGITAL_OCEAN_SUCCESS_MESSAGE' | $$ }}</p>
        <!-- TODO: add start getting access button -->
        <uproxy-button on-tap='{{ closeOverlays }}'>{{ 'OK' | $$ }}</uproxy-button>
      </div>  <!-- end of .content -->
    </core-overlay>

    <core-overlay id='failureOverlay'>
      <uproxy-app-bar on-go-back='{{ back }}' color='#34AFCE'>
        {{ 'CREATE_A_CLOUD_SERVER' | $$ }}
      </uproxy-app-bar>

      <div class='content'>
        <div class='imgWrapper'>
          <img src='../../icons/cloud/error-circle-ic.svg'>
        </div>
        <h1>{{ 'DIGITAL_OCEAN_ERROR_TITLE' | $$ }}</h1>
        <!-- TODO: link "Check the settings" -->
        <p>{{ 'DIGITAL_OCEAN_ERROR_MESSAGE' | $$ }}</p>
        <uproxy-button raised on-tap='{{ loginTapped }}'>
          {{ 'TRY_AGAIN' | $$ }}
        </uproxy-button>
      </div>  <!-- end of .content -->
    </core-overlay>

  </template>
  <script src='cloud-install.js'></script>
</polymer-element>
