<link rel='import' href='../../bower/polymer/polymer.html'>
<link rel='import' href='button.html'>
<link rel='import' href='../../bower/paper-progress/paper-progress.html'>
<link rel='import' href='dialog.html'>

<polymer-element name='uproxy-cloud-install'>
  <template>
    <style>
    :host {
      text-align: start;
    }

    /* cogged from invite-user.html, to match social network invite dialogs */
    /* TODO: seems like a lot of duplication */
    uproxy-dialog {
      min-width: 80%;
    }
    uproxy-dialog h1 {
      color: #333;
      font-size: 18px;
      font-weight: normal;
      margin-top: 0;
    }
    uproxy-dialog p {
      color: rgb(160, 160, 160);
      line-height: 18px;
      font-weight: lighter;
      font-size: 12px;
      letter-spacing: 0.5px;
    }
    core-icon[icon=clear] {
      position: absolute;
      top: 15px;
      right: 15px;
      color: rgb(180,180,180);
      cursor: pointer;
    }
    uproxy-button {
      margin: 15px 0px;
    }
    uproxy-button #buttonLogoContainer {
      padding: 0em 0.3em;
    }
    uproxy-button #buttonTextContainer {
      padding: 0.7em 0.9em;
      border-left: 1px solid rgba(255,255,255,0.3);
    }

    paper-progress {
      width: 100%;
    }
    </style>

    <!-- TODO: remove this logic from the template -->
    <core-signals on-core-signal-open-cloud-install-dialog='{{openLoginDialog}}'></core-signals>

    <!-- TODO: use core-pages rather than multiple dialogs -->

    <uproxy-dialog layered="false" backdrop="true" id='loginDialog'>
      <h1>Create a cloud server</h1>
      <core-icon icon="clear" on-tap='{{closeDialogs}}'></core-icon>
      <p>We can help you create a uProxy cloud server in a country of your choice. You will be able to get access from this server 24x7 and, optionally, share it with friends and family.</p>
      <p>To get started, please sign in to your DigitalOcean account.</p>
      <div style="text-align:center;">
        <uproxy-button raised on-tap='{{loginTapped}}'>
          <span id="buttonLogoContainer"><core-icon icon='uproxy-icons:Cloud'></core-icon></span>
          <span id="buttonTextContainer">Sign in to Digital Ocean</span>
        </uproxy-button>
      </div>
    </uproxy-dialog>

    <uproxy-dialog layered="false" backdrop="true" id='installingDialog'>
      <h1>Create a cloud server</h1>
      <p>Your cloud server is being created. This will take several minutes, please bear with us.</p>
      <div>
        <paper-progress indeterminate='true'></paper-progress>
      </div>
      <p>{{ ui.cloudInstallStatus }}</p>
    </uproxy-dialog>

  </template>
  <script src='cloud-install.js'></script>
</polymer-element>
