<link rel="import" href="../lib/polymer/polymer.html">
<link rel="import" href='splash.html'>
<link rel="import" href='toolbar.html'>
<link rel="import" href='button.html'>
<link rel="import" href='roster.html'>
<link rel="import" href='settings.html'>
<link rel="import" href='networks.html'>

<polymer-element name='uproxy-root' attributes='model'>

  <template>
    <style>
      :host {
        position: absolute;
        width: 371px; height: 600px;
        left: 0;
        top: 0;
        display: block;
        border: none; margin: auto;
        text-align: left;
        overflow: hidden;
        background: url('../icons/internet.png') center top no-repeat #fff;
      }
      #btnSettings {
        position: absolute; left: 0; top: 0;
      }
      #darkMask {
        background-color: rgba(0, 0, 0, 0.5);
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        position: absolute;
        z-index: 1001;
      }
    </style>

    <uproxy-toolbar hidden?='{{ !ui.onlineNetwork }}'>
      <uproxy-button id='btnSettings'
          on-tap='{{ settingsView }}'
          img='../icons/more_vert_white.svg'>
      </uproxy-button>
    </uproxy-toolbar>

    <uproxy-splash id='splash'
      class='{{ { active:(UI.View.SPLASH==ui.view) } | tokenList }}'>
    </uproxy-splash>

    <uproxy-networks id='networks'
      class='{{ { active:(UI.View.NETWORKS==ui.view) } | tokenList }}'>
    </uproxy-networks>

    <uproxy-settings id='settings'
      class='{{ { active:(UI.View.SETTINGS==ui.view) } | tokenList }}'>
    </uproxy-settings>

    <uproxy-roster id='roster'
      class='{{ { active: (UI.View.ROSTER==ui.view), hidden: (UI.View.SPLASH==ui.view || !ui.onlineNetwork) } | tokenList }}'>
    </uproxy-roster>

    <!-- Dark mask displayed on top of roster when settings is visible -->
    <div id='darkMask' hidden?='{{UI.View.SETTINGS!=ui.view}}'
        on-tap='{{ rosterView }}'></div>

  </template>

  <script src='root.js'></script>

</polymer-element>
